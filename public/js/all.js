var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Confirmation=function(){function t(t,e){s.data("form-id","#"+t.attr("id")),s.data("callback-function",function(t,a){switch(a.status){case 422:Utility.displayErrorMessageBox(Object.values(a.responseJSON.errors).join("<br>"));break;case 200:if(a.hasOwnProperty("responseJSON")){var n=a.responseJSON;!0===n.success?(Utility.displaySuccessMessageBox(n.message),e.submit()):Utility.displayErrorMessageBox(n.message)}else Utility.displayJsonResponseError(a,t.attr("action"));break;default:Utility.displayUnknownError(a,t.attr("action"))}}),n.html(t.data("deletion-confirmation-message")+t.data("info")+"?"),a.modal()}function e(){s.click(function(t){t.preventDefault(),a.modal("toggle"),Utility.submitForm($(s.data("form-id")),s.data("callback-function"))})}var a=$("#confirmation-box"),n=$("#confirmation-text"),s=$("#yes-answer");return{confirmToDelete:t,initialize:e}}(jQuery),Form=function(){function t(){$("#join-form").click(function(t){window.console.log("test")}),e.submit(function(t){t.preventDefault(),Utility.submitForm($(this))}),a.submit(function(t){var e=this;t.preventDefault(),_submitEvent=function(){Utility.submitForm($(e))}}),s.on("click",function(t){t.preventDefault(),$(this).closest("form").submit()}),Search.SearchForm.submit(function(t){t.preventDefault(),Search.submitForm($(this))}),Search.ResultDiv.on("submit",n,function(t){t.preventDefault(),Confirmation.confirmToDelete($(this),Search.SearchForm)}),$(".deletion").submit(function(t){t.preventDefault(),Confirmation.confirmToDelete($(this),Search.SearchForm)})}var e=$(".submission-form"),a=$(".recaptcha-form"),n=".deletion",s=$(".form-submit");return{initialize:t}}(jQuery),Menu=function(){function t(){}return{initialize:t}}(jQuery),Search=function(){function t(t){n.removeClass("alert"),Utility.submitForm(t,function(t,e){switch(Utility.clearErrors(),e.status){case 422:Utility.displayInvalidInputs(e.responseJSON),n.html("");break;case 200:n.empty(),n.html(e.responseText.data),$("input[name=search]").empty();break;default:var a=e.statusText;e.hasOwnProperty("responseJSON")&&e.responseJSON.hasOwnProperty("message")&&(a=e.responseJSON.message),n.html(Translator.translate("utility.result.error")+" "+a).addClass("alert")}})}function e(){n.on("click",".pagination a",function(e){e.preventDefault();var a=document.createElement("form");a.setAttribute("method","GET"),a.setAttribute("action",$(this).attr("href")),t($(a))})}function a(){e(),$("#search-company").click(function(){$.ajax({url:$(this).data("url"),type:"GET",data:{search:$("input[name=company]").val()},success:function(t,e,a){window.console.log(t),$("#company-search-result").html(t.data)}})})}var n=$("#search-result"),s=$("#search-form");return{ResultDiv:n,SearchForm:s,initialize:a,submitForm:t}}(jQuery),Translator=function(){function t(){$.holdReady(!0);var t=[];Laravel.languageCodes.forEach(function(e){t.push($.getJSON("/languages/"+e+".json",{timestamp:Date.now()}))}),$.when.apply(this,t).then(function(){for(var t=0;t<arguments.length;t++)a.add({language:Laravel.languageCodes[t],data:arguments[t][0]});a.useLanguage(Laravel.currentLanguage)},function(){Utility.displayErrorMessageBox("Error! Failed to load some translation files, please contact the system administrator.")}).always(function(){$.holdReady(!1)})}function e(t){return a.translate(t)}var a=JSTranslate.i18n({language:Laravel.languageCodes,defaultLanguage:Laravel.defaultLanguage});return{initialize:t,translate:e}}(jQuery),Utility=function(){function t(t,e){n(),f.html(t),f.hasClass("alert")?e||(d.html(Translator.translate("utility.result.success")),f.removeClass("alert")):e&&(d.html(Translator.translate("utility.result.error")),f.addClass("alert")),m.modal()}function e(e){t(e,!1)}function a(e){t(e,!0)}function n(){$(":input").removeClass("error"),$(".alert.help-text").addClass("d-none")}function s(t){if(n(),t.hasOwnProperty("errors")){var e=0;for(var a in t.errors){var s=t.errors[a],o=/^[^.]+\.\d+$/.test(a)?a.replace(".",""):$('[name="'+a+'"]').attr("id"),r="object"===(void 0===s?"undefined":_typeof(s))?s[0]:s;if(o)$("#"+o).addClass("error"),$("#"+o+"-help-text").text(r).removeClass("d-none"),"budget_type"!==a&&"milerate_subtype"!==a&&"taxi_subtype"!==a&&"biketaxi_subtype"!==a||($("#"+a).addClass("error"),$("#"+a+"-help-text").text(r).removeClass("d-none")),$("#toggle-error-message").length&&0===e&&("milerate_subtype"===a||"taxi_subtype"===a||"biketaxi_subtype"===a?$("html, body").animate({scrollTop:$("#"+a+"-help-text").offset().top},1e3):$("html, body").animate({scrollTop:$("#"+o).offset().top},1e3));else{var i=$('[name="'+a+'[]"]').parents(".checkbox-group").attr("id");$("#"+i+"-help-text").text(r).removeClass("d-none")}e++}}}function o(t,e){n();var s="<h5>"+Translator.translate("utility.calling_system_administrator")+"</h5>";s+="<strong>"+Translator.translate("utility.error_url")+"</strong> "+e+"<br>",s+="<strong>"+Translator.translate("utility.error_status_code")+"</strong> "+t.status+"<br>",s+="<strong>"+Translator.translate("utility.error_status_text")+"</strong> "+t.statusText+"<br>",a(s)}function r(t,e){t.statusText=Translator.translate("utility.json_response_error"),o(t,e)}function i(t,n){switch(n.status){case 422:case 429:s(n.responseJSON);break;case 200:if(n.hasOwnProperty("responseJSON")){var i=n.responseJSON;!0===i.success?i.hasOwnProperty("message")?(m.on("hidden.bs.modal",function(){i.redirectedUrl?location.href=i.redirectedUrl:t.trigger("reset")}),e(i.message)):i.redirectedUrl&&(location.href=i.redirectedUrl):a(i.message)}else r(n,t.attr("action"));break;default:n.hasOwnProperty("responseJSON")&&n.responseJSON.hasOwnProperty("message")?a(n.responseJSON.message):o(n,t.attr("action"))}}function l(t,e,a){"function"==typeof a?a.apply(this,[t,e]):i(t,e)}function c(t){return"GET"===t.attr("method")?t.serialize():new FormData(t.get(0))}function u(t,e){$.ajax({url:t.attr("action"),method:t.attr("method"),data:c(t),cache:!1,contentType:!1,processData:!1,success:function(a,n,s){l(t,s,e)},error:function(a){l(t,a,e)}})}var m=$("#result-box"),d=$("#result-title"),f=$("#result-text");return{submitForm:u,displaySuccessMessageBox:e,displayErrorMessageBox:a,displayInvalidInputs:s,displayUnknownError:o,displayJsonResponseError:r,clearErrors:n,ResultBoxSelector:m,takeSubmitAction:i,runCallbackFunction:l,getFormData:c}}(jQuery),PasswordToggle=function(){function t(){$("#password-field").click(function(){$(".fa-eye").length?($("#password-field").html(""),$("#password-field").html('<i class="fa fa-eye-slash"></i>'),$("#password").attr("type","text")):($("#password-field").html(""),$("#password-field").html('<i class="fa fa-eye"></i>'),$("#password").attr("type","password"))})}return{initialize:t}}(jQuery),Footer=function(){function t(){$(".redirect_to").length&&$(".redirect_to").change(function(){"_blank"===$(this).attr("target")?window.open($(this).val(),"_blank"):window.location=$(this).val()}),$(window).resize(function(){$(window).width()<=768&&($(".menu-two-title").click(function(){$(".menu-one").hide(),$(".menu-two").show(),$(".menu-two-title").addClass("active"),$(".menu-one-title").removeClass("active")}),$(".menu-one-title").click(function(){$(".menu-two").hide(),$(".menu-one").show(),$(".menu-one-title").addClass("active"),$(".menu-two-title").removeClass("active")}))})}return{initialize:t}}(jQuery),SkinToggle=function(){function t(){$("#skin-toggle").click(function(){window.console.log("desktop toggle"),1==$(this).prop("checked")?($("body").addClass("dark-mode"),$(".sun-image").attr("src","../../images/day.svg"),$(".moon-image").attr("src","../../images/night.svg"),$(".sun-image").css("width","25px"),$(".moon-image").css("width","25px")):0==$(this).prop("checked")&&($("body").removeClass("dark-mode"),$(".sun-image").attr("src","../../images/sun.svg"),$(".moon-image").attr("src","../../images/moon.svg"))}),$("#skin-toggle-body").click(function(){window.console.log("mobile toggle"),1==$(this).prop("checked")?($("body").addClass("dark-mode"),$(".sun-image").attr("src","../../images/day.svg"),$(".moon-image").attr("src","../../images/night.svg"),$(".sun-image").css("width","25px"),$(".moon-image").css("width","25px")):0==$(this).prop("checked")&&($("body").removeClass("dark-mode"),$(".sun-image").attr("src","../../images/sun.svg"),$(".moon-image").attr("src","../../images/moon.svg"))})}return{initialize:t}}(jQuery),Fonts=function(){function t(){$("#font-range").on("input",function(){window.console.log($(this).val()),1==$(this).val()&&$("p").css("font-size","16px"),2==$(this).val()&&$("p").css("font-size","21px"),3==$(this).val()&&$("p").css("font-size","26px")}),$("#font-range-mobile").on("input",function(){window.console.log($(this).val()),1==$(this).val()&&$("p").css("font-size","16px"),2==$(this).val()&&$("p").css("font-size","21px"),3==$(this).val()&&$("p").css("font-size","26px")})}return{initialize:t}}(jQuery),SpinnerSelector=$("#spinner, #spinner-popup");Translator.initialize(),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(document).ajaxStart(function(){SpinnerSelector.show()}).ajaxComplete(function(){SpinnerSelector.hide()}).ready(function(){Menu.initialize(),Search.initialize(),Confirmation.initialize(),Form.initialize(),Footer.initialize(),PasswordToggle.initialize(),SkinToggle.initialize(),Fonts.initialize()});
